
$nt-slider-width-vertical: 0.5rem !default;
$nt-slider-transition: all 0.2s ease-in-out !default;
$nt-slider-height: 0.5rem !default;
$nt-slider-background: $light-gray !default;
$nt-slider-fill-background: $medium-gray !default;
$nt-slider-handle-height: 1rem !default;
$nt-slider-handle-width: 1rem !default;
$nt-slider-handle-background: $primary-color !default;
$nt-slider-handle-radius: $global-radius !default;
$nt-slider-opacity-disabled: 0.25 !default;
$nt-slider-radius: $global-radius !default;

@mixin nt-slider-container {
  position: relative;
  height: $nt-slider-height;
  margin-top: 1.25rem;
  margin-bottom: 2.25rem;
  display: block;
  border-radius: $global-radius;

  background-color: $nt-slider-background;
  cursor: pointer;
  outline: none;
  user-select: none;
  touch-action: none;
}

/// Adds the general styles for active fill for sliders.
@mixin nt-slider-fill {
  position: absolute;
  top: 0;
  left: 0;

  display: inline-block;
  max-width: 100%;
  height: $nt-slider-height;
  border-radius: $global-radius;

  background-color: $nt-slider-fill-background;
  transition: $nt-slider-transition;
}

/// Adds the general styles for the slider handles.
@mixin nt-slider-handle {
  @include vertical-center;
  left: 0;
  z-index: 1;

  display: inline-block;
  width: $nt-slider-handle-width;
  height: $nt-slider-handle-height;

  cursor: grabbing;
  border-radius: $nt-slider-handle-radius;
  background-color: $nt-slider-handle-background;
  transition: $nt-slider-transition;
  touch-action: manipulation;
  transform: translate(-50%, -50%);
}

@mixin nt-slider-stepmark {
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  width: 100%;
  justify-content: space-between;
  flex-wrap: nowrap;
  padding-top: $nt-slider-height;

  .stepmark {
    display: inline-block;
    font-size: rem-calc(12);
    transform: scale(.8);
    width: 1rem;
    height: 1rem;
    transform: translate(-50%, -50%);
    background-color: $white;
    border-radius: 50%;
    border: 2px solid get-color(primary);
  }
}

@mixin nt-slider-validation(
  $color: $nt-input-background-invalid,
  $shadow: $nt-input-shadow-invalid,
  $shadow-hover: $nt-input-shadow-invalid-focus,
  $color-lighten: 5%
) {

  .nt-slider-handle {
    box-shadow: $shadow;
  }

  &:not(.disabled) {
    .nt-slider-handle:hover {
      box-shadow: $shadow-hover;
    }
  }
}

@mixin nt-slider-disabled {
  opacity: $nt-slider-opacity-disabled;
  cursor: not-allowed;
}

@mixin nt-slider-vertical {
  display: inline-block;
  width: $nt-slider-width-vertical;
  height: 12.5rem;
  margin: 0 1.25rem;
  transform: scale(1, -1);

  .nt-slider-fill {
    top: 0;
    width: $nt-slider-width-vertical;
    max-height: 100%;
  }

  .nt-slider-handle {
    position: absolute;
    top: 0;
    left: 50%;
    width: $nt-slider-handle-height;
    height: $nt-slider-handle-width;
    transform: translateX(-50%);
  }
}

@mixin nt-slider {

  // Container
  .nt-slider {
    @include nt-slider-container;

    // Disabled state
    &.disabled {
      @include nt-slider-disabled;
    }

    &.vertical {
      @include nt-slider-vertical;
    }

    &.is-sliding {
      .nt-slider-handle,
      .nt-slider-fill {
        transition-duration: 0s;
      }
    }

    &:hover .nt-slider-handle,
    &:focus .nt-slider-handle {
      background-color: scale-color($nt-slider-handle-background, $lightness: -15%);
      box-shadow: $input-shadow-focus;
    }
  }

  // Fill area
  .nt-slider-fill {
    @include nt-slider-fill;
  }

  // Draggable handle
  .nt-slider-handle {
    @include nt-slider-handle;
  }

  .nt-slider-stepmark {
    @include nt-slider-stepmark;
  }

  .nt-form-error .nt-slider {
    @include nt-slider-validation;
  }
}
