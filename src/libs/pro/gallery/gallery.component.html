
<ng-container *ngIf="images.length !== 4 && images.length !== 1">
  <div class="cell small-4" *ngFor="let image of images; let i = index">
    <ng-container *ngTemplateOutlet="template; context: { $implicit: i };"></ng-container>
  </div>
</ng-container>

<ng-container *ngIf="images.length === 4">
  <div class="cell small-4">
    <ng-container *ngTemplateOutlet="template; context: { $implicit: 0 };"></ng-container>
  </div>
  <div class="cell small-4">
    <ng-container *ngTemplateOutlet="template; context: { $implicit: 1 };"></ng-container>
  </div>
  <div class="cell small-4"></div>
  <div class="cell small-4">
    <ng-container *ngTemplateOutlet="template; context: { $implicit: 2 };"></ng-container>
  </div>
  <div class="cell small-4">
    <ng-container *ngTemplateOutlet="template; context: { $implicit: 3 };"></ng-container>
  </div>
</ng-container>

<ng-container *ngIf="images.length === 1">
  <div class="cell small-6" *ngFor="let image of images">
    <ng-container *ngTemplateOutlet="template; context: { $implicit: 0 };"></ng-container>
  </div>
</ng-container>

<ng-template #template let-index>
  <div class="gallery-thumbnail"
    [style.backgroundImage]="'url(' + (images[index].thumbnail | proxy) + ')'"
    (click)="preview(index)">
  </div>
</ng-template>
