{"version":3,"file":"badge.js","sources":["../../../../out-tsc/@ng-tangram/components/badge/badge.component.ts","../../../../out-tsc/@ng-tangram/components/badge/badge.module.ts"],"sourcesContent":["import {\n  AfterViewInit, Component, ElementRef, Input, Renderer2, ViewEncapsulation, OnDestroy, OnChanges\n} from '@angular/core';\n\nexport declare type NtBadgeColor = '' | 'primary' | 'secondary' | 'success' | 'warning' | 'alert';\n\nexport declare type NtBadgeType = '' | 'static' | 'float' | 'notify';\n\n@Component({\n  selector: 'nt-badge, [nt-badge]',\n  template: `<ng-content></ng-content>`,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': '[\"badge\", color, class].join(\" \")',\n    '[class.badge-float]': 'type === \"float\"',\n    '[class.badge-notify]': 'type === \"notify\"'\n  }\n})\nexport class NtBadgeComponent implements AfterViewInit, OnDestroy {\n\n  private _type: NtBadgeType = 'static';\n\n  @Input() color: NtBadgeColor = '';\n\n  @Input() class: string = '';\n\n  @Input()\n  set type(value: NtBadgeType) {\n    if (value === 'float' || value === 'notify') {\n      this._resetPosition();\n    } else {\n      this._clearPosition();\n    }\n    this._type = value;\n  }\n  get type() { return this._type; }\n\n  private _originalPosition;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _renderer: Renderer2) { }\n\n  ngAfterViewInit() {\n    this._resetPosition();\n  }\n\n  ngOnDestroy() {\n    this._clearPosition();\n  }\n\n  // 重置容器的 position 属性\n  private _resetPosition() {\n    const style = window.getComputedStyle(this._elementRef.nativeElement.parentElement);\n    if (style.position !== 'absolute' || style.position !== 'absolute') {\n      this._originalPosition = style.position;\n      this._renderer.setStyle(this._elementRef.nativeElement.parentElement, 'position', 'relative');\n    }\n  }\n\n  // 清理 position 属性\n  private _clearPosition() {\n    if (this._originalPosition) {\n      this._renderer.removeStyle(this._elementRef.nativeElement.parentElement, 'position');\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NtBadgeComponent } from './badge.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NtBadgeComponent],\n  exports: [NtBadgeComponent]\n})\nexport class NtBadgeModule { }\n"],"names":[],"mappings":";;;;;;;AAAA;IAuCE,0BACU,aACA;QADA,gBAAW,GAAX,WAAW;QACX,cAAS,GAAT,SAAS;qBArBU,QAAQ;qBAEN,EAAE;qBAER,EAAE;KAiBQ;0BAd/B,kCAAI;;;;QAQR,cAAa,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE;;;;;kBARxB,KAAkB;YACzB,IAAI,KAAK,KAAK,OAAO,IAAI,KAAK,KAAK,QAAQ,EAAE;gBAC3C,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;iBAAM;gBACL,IAAI,CAAC,cAAc,EAAE,CAAC;aACvB;YACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;;;;;IAUrB,0CAAe;;;IAAf;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAED,sCAAW;;;IAAX;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAGO,yCAAc;;;;QACpB,qBAAM,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QACpF,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU,EAAE;YAClE,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC;YACxC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;SAC/F;;;;;IAIK,yCAAc;;;;QACpB,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;SACtF;;;gBAxDJ,SAAS,SAAC;oBACT,QAAQ,EAAE,sBAAsB;oBAChC,QAAQ,EAAE,2BAA2B;oBACrC,aAAa,EAAE,iBAAiB,CAAC,IAAI;oBACrC,IAAI,EAAE;wBACJ,SAAS,EAAE,mCAAmC;wBAC9C,qBAAqB,EAAE,kBAAkB;wBACzC,sBAAsB,EAAE,mBAAmB;qBAC5C;iBACF;;;;gBAhB2B,UAAU;gBAAS,SAAS;;;0BAqBrD,KAAK;0BAEL,KAAK;yBAEL,KAAK;;2BA1BR;;;;;;;ACAA;;;;gBAIC,QAAQ,SAAC;oBACR,OAAO,EAAE,CAAC,YAAY,CAAC;oBACvB,YAAY,EAAE,CAAC,gBAAgB,CAAC;oBAChC,OAAO,EAAE,CAAC,gBAAgB,CAAC;iBAC5B;;;;wBARD;;;;;;;;;;;;;;;"}