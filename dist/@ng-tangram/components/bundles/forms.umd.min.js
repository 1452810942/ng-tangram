!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/animations"),require("@angular/cdk/coercion"),require("@angular/core"),require("@angular/forms"),require("@ng-tangram/animate/fading"),require("rxjs/add/observable/of"),require("rxjs/add/operator/distinctUntilChanged"),require("rxjs/Observable"),require("rxjs/observable/defer"),require("rxjs/operators"),require("rxjs/Subject"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/animations","@angular/cdk/coercion","@angular/core","@angular/forms","@ng-tangram/animate/fading","rxjs/add/observable/of","rxjs/add/operator/distinctUntilChanged","rxjs/Observable","rxjs/observable/defer","rxjs/operators","rxjs/Subject","@angular/common"],r):r((t.nt=t.nt||{},t.nt.components=t.nt.components||{},t.nt.components.forms={}),t.ng.animations,t.ng.cdk.coercion,t.ng.core,t.ng.forms,t.nt.animate.fading,null,null,t.Rx.Observable,t.Rx.observable.defer,t.Rx.operators,t.Rx.Subject,t.ng.common)}(this,function(t,r,e,n,o,i,a,s,l,u,c,p,f){"use strict";var m=function(){function t(){}return t.prototype.focus=function(){},t}(),d=function(){function t(t,r,e,n){var o=this;this._ngZone=t,this._changeDetectorRef=r,this._parentForm=e,this._parentFormGroup=n,this._labelVisible=!0,this._destroy=new p.Subject,this._invalid=!1,this.statusChanges=u.defer(function(){return o.control&&o.ngControl?o.ngControl.statusChanges?o.ngControl.statusChanges:l.Observable.of(null):o._ngZone.onStable.asObservable().pipe(c.take(1),c.switchMap(function(){return o.statusChanges}))}),this.statusChanges.pipe(c.takeUntil(this._destroy)).subscribe(function(){return o._validate()})}return Object.defineProperty(t.prototype,"labelVisible",{get:function(){return this._labelVisible},set:function(t){this._labelVisible=e.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontal",{get:function(){return"horizontal"===this.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){if(this.ngControl&&this.ngControl.control&&this.ngControl.control.validator){var t=new o.FormControl,r=this.ngControl.control.validator(t);return r&&r.hasOwnProperty("required")}return!!this.control&&!!this.control.required},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control.ngControl?this.control.ngControl.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngSubmit",{get:function(){return this._parentForm||this._parentFormGroup?(this._parentForm||this._parentFormGroup||{}).ngSubmit:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngControl",{get:function(){return this.control?this.control.ngControl:null},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.ngSubmit&&this.ngControl&&this.ngSubmit.pipe(c.takeUntil(this._destroy)).subscribe(function(){return t._validate()})},t.prototype._validate=function(){this.ngControl&&(this._invalid=!!this.ngControl.invalid,this._changeDetectorRef.markForCheck())},t.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete()},t.decorators=[{type:n.Component,args:[{selector:"nt-form-field",template:'\n    <label class="nt-form-label" [class.required]="required" *ngIf="labelVisible">{{label}}</label>\n    <div class="nt-form-group">\n      <div class="nt-form-control">\n        <ng-content></ng-content>\n      </div>\n      <span class="form-error is-visible" *ngIf="_invalid" [@fade]="_invalid">\n        {{ (errors || {}) | ntFormError :label }}\n      </span>\n    </div>\n  ',animations:[r.trigger("fade",[r.transition("* => false",i.fadeOut(.15)),r.transition("* => true",i.fadeIn(.15))])],encapsulation:n.ViewEncapsulation.None,changeDetection:n.ChangeDetectionStrategy.OnPush,host:{class:"nt-form-field","[class.nt-form-error]":"_invalid","[class.nt-form-horizontal]":"horizontal"}}]}],t.ctorParameters=function(){return[{type:n.NgZone},{type:n.ChangeDetectorRef},{type:o.NgForm,decorators:[{type:n.Optional}]},{type:o.FormGroupDirective,decorators:[{type:n.Optional}]}]},t.propDecorators={label:[{type:n.Input}],labelVisible:[{type:n.Input}],orientation:[{type:n.Input}],control:[{type:n.ContentChild,args:[m]}]},t}(),g=function(){function t(t,r){this._form=t||r}return t.prototype.onSubmit=function(){if(this._form.invalid){var t=this.fields.find(function(t){return!!t.ngControl&&!!t.ngControl.invalid});t&&t.control&&t.control.focus()}},t.decorators=[{type:n.Directive,args:[{selector:"form[ntFormAutofocus]",host:{"(submit)":"onSubmit($event)"}}]}],t.ctorParameters=function(){return[{type:o.NgForm,decorators:[{type:n.Optional}]},{type:o.FormGroupDirective,decorators:[{type:n.Optional}]}]},t.propDecorators={fields:[{type:n.ContentChildren,args:[d]}]},t}(),h={required:"请填写{0}",email:"{0}不是邮箱格式",min:"{0}必须输入大于{1}的数字",max:"{0}必须输入小于{1}的数字",pattern:"{0}不是合法的数据",maxlength:"{0}长度为最大{1}",minlength:"{0}长度为最小{1}"},b=function(){function t(){}return t.prototype.transform=function(t,r){return t?t.hasOwnProperty("required")?this._format(h.required,r):t.hasOwnProperty("email")?this._format(h.email,r):t.hasOwnProperty("min")?this._format(h.min,r,t.min.min):t.hasOwnProperty("max")?this._format(h.max,r,t.max.max):t.hasOwnProperty("minlength")?this._format(h.minlength,r,t.minlength.requiredLength):t.hasOwnProperty("maxlength")?this._format(h.maxlength,r,t.maxlength.requiredLength):t.hasOwnProperty("pattern")?this._format(h.pattern,r):"":""},t.prototype._format=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return t.replace(/\{(\d+)\}/g,function(t,e){return void 0!==r[e]?r[e]:t})},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[]},t}(),y=new n.InjectionToken("nt-validation-transformer"),v=function(){function t(t){this._transformer=t}return t.prototype.transform=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return this._transformer.transform(t,r[0])},t.decorators=[{type:n.Pipe,args:[{name:"ntFormError"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[y]}]}]},t}(),_=function(){function t(){}return t.forRoot=function(r){return{ngModule:t,providers:[{provide:y,useClass:r||b}]}},t.decorators=[{type:n.NgModule,args:[{imports:[f.CommonModule],exports:[d,g,v],declarations:[d,g,v]}]}],t.ctorParameters=function(){return[]},t}();t.NtFormsModule=_,t.NtFormErrorPipe=v,t.NtFormFieldComponent=d,t.NtFormFieldControl=m,t.NtFormAutofocusDirective=g,t.DEFAULT_TEMPLATES=h,t.NtFormValidationTransformer=b,t.NT_VALIDATION_TRANSFOMER=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=forms.umd.min.js.map
