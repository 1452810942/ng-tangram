!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/common/http"),require("rxjs/operators"),require("@ng-tangram/components/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common/http","rxjs/operators","@ng-tangram/components/forms"],n):n((t.nt=t.nt||{},t.nt.components=t.nt.components||{},t.nt.components.upload={}),t.ng.core,t.ng.common.http,t.Rx.operators,t.nt.components.forms)}(this,function(t,n,e,o,r){"use strict";var i={BEGIN:0,SENDING:1,SUCCESS:2,ERROR:3,UPLOADED:4};i[i.BEGIN]="BEGIN",i[i.SENDING]="SENDING",i[i.SUCCESS]="SUCCESS",i[i.ERROR]="ERROR",i[i.UPLOADED]="UPLOADED";var s=function(){function t(){}return t.prototype.response=function(t){return{status:t.status>=200&&t.status<400?i.SUCCESS:i.ERROR,data:t.body}},t.prototype.catch=function(t){return{status:i.ERROR,error:t.statusText}},t}(),p=new n.InjectionToken("nt-upload-interceptor"),u=function(){function t(t,n){this._http=t,this._interceptor=n}return t.prototype.upload=function(t,n,r){var i=this;return void 0===r&&(r={}),this._http.request(new e.HttpRequest("POST",t,n,{reportProgress:!0})).pipe(o.map(function(t){return i._progressHandler(t,r)}),o.filter(function(t){return t.type===e.HttpEventType.Response}),o.map(function(t){return i._interceptor.response(t)}))},t.prototype._progressHandler=function(t,n){return void 0===n&&(n={}),t.type===e.HttpEventType.Sent&&n.begin instanceof Function?n.begin(t):t.type===e.HttpEventType.UploadProgress&&n.progress instanceof Function?n.progress(t):t.type===e.HttpEventType.Response&&n.done instanceof Function&&n.done(),t},t.decorators=[{type:n.Injectable}],t.ctorParameters=function(){return[{type:e.HttpClient},{type:s,decorators:[{type:n.Optional},{type:n.Inject,args:[p]}]}]},t}(),c=function(){function t(){}return t.decorators=[{type:n.NgModule,args:[{providers:[{provide:p,useClass:s},u]}]}],t.ctorParameters=function(){return[]},t}(),a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};var f=function(){return function(t,n,e,o){this.name=t,this.size=n,this.type=e,this.link=o,this.status=i.BEGIN}}(),l=function(t){function n(n,e){var o=t.call(this)||this;return o._uploader=n,o.ngControl=e,o._onChange=function(){},o._onTouched=function(){},o.ngControl&&(o.ngControl.valueAccessor=o),o}return function(t,n){function e(){this.constructor=t}a(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}(n,t),n.prototype.writeValue=function(t){t&&this.setValue(t)},n.prototype.registerOnChange=function(t){this._onChange=t},n.prototype.registerOnTouched=function(t){this._onTouched=t},n.prototype._getFormData=function(t){if(this.name){var n=new FormData;return n.append(this.name,t),n}return t},n}(r.NtFormFieldControl),d=function(){return function(t,n,e){this.file=t,this.fileAccept=n,this.allowAccepts=e}}(),h=function(){return function(t,n,e){this.file=t,this.maxSize=n,this.maxSizeString=e}}(),y=function(){return function(t,n){this.status=t,this.statusText=n}}();t.NtUpload=u,t.NtUploadModule=c,t.NtUploadFile=f,t.NtUploadControl=l,t.NtUploadStatus=i,t.NtFileAcceptError=d,t.NtFileSizeError=h,t.NtFileUploadError=y,t.NtUploadInterceptor=s,t.NT_UPLOAD_INTERCEPTOR=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=upload.umd.min.js.map
