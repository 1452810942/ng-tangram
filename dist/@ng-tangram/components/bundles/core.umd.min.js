!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs/Subject"),require("@angular/cdk/platform"),require("@angular/cdk/coercion"),require("@angular/common"),require("@angular/cdk/overlay"),require("rxjs/add/observable/of"),require("rxjs/add/operator/do"),require("rxjs/add/operator/debounceTime"),require("rxjs/add/operator/filter"),require("@angular/animations"),require("@ng-tangram/animate/fading")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Subject","@angular/cdk/platform","@angular/cdk/coercion","@angular/common","@angular/cdk/overlay","rxjs/add/observable/of","rxjs/add/operator/do","rxjs/add/operator/debounceTime","rxjs/add/operator/filter","@angular/animations","@ng-tangram/animate/fading"],e):e((t.nt=t.nt||{},t.nt.components=t.nt.components||{},t.nt.components.core={}),t.ng.core,t.Rx.Subject,t.ng.cdk.platform,t.ng.cdk.coercion,t.ng.common,t.ng.cdk.overlay,null,null,null,null,t.ng.animations,t.nt.animate.fading)}(this,function(t,e,n,o,r,i,a,s,c,u,p,l,d){"use strict";var h=new e.InjectionToken("nt-date-locale"),f={provide:h,useExisting:e.LOCALE_ID},g=function(){function t(){this._localeChanges=new n.Subject}return Object.defineProperty(t.prototype,"localeChanges",{get:function(){return this._localeChanges},enumerable:!0,configurable:!0}),t.prototype.deserialize=function(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()},t.prototype.setLocale=function(t){this.locale=t,this._localeChanges.next()},t.prototype.compareDate=function(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)},t.prototype.sameDate=function(t,e){if(t&&e){var n=this.isValid(t),o=this.isValid(e);return n&&o?!this.compareDate(t,e):n===o}return t===e},t.prototype.clampDate=function(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t},t}(),y=new e.InjectionToken("nt-date-formats"),m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};var _=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},v="undefined"!=typeof Intl,b={long:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],narrow:["1","2","3","4","5","6","7","8","9","10","11","12"]},C=w(31,function(t){return String(t+1)}),D={long:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],short:["周日","周一","周二","周三","周四","周五","周六"],narrow:["日","一","二","三","四","五","六"]},O=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function w(t,e){for(var n=Array(t),o=0;o<t;o++)n[o]=e(o);return n}var P=function(t){function n(e,n){var o=t.call(this)||this;return o.useUtcForDisplay=!0,t.prototype.setLocale.call(o,e),o.useUtcForDisplay=!n.TRIDENT,o._clampDate=n.TRIDENT||n.EDGE,o}return function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(n,t),n.prototype.getYear=function(t){return t.getFullYear()},n.prototype.getMonth=function(t){return t.getMonth()},n.prototype.getDate=function(t){return t.getDate()},n.prototype.getDayOfWeek=function(t){return t.getDay()},n.prototype.getMonthNames=function(t,e){var n=this;if(void 0===e&&(e=this.locale),v){var o=new Intl.DateTimeFormat(e,{month:t,timeZone:"utc"});return w(12,function(t){return n._stripDirectionalityCharacters(n._format(o,new Date(2017,t,1)))})}return b[t]},n.prototype.getDateNames=function(t){var e=this;if(void 0===t&&(t="en-US"),v){var n=new Intl.DateTimeFormat(t,{day:"numeric",timeZone:"utc"});return w(31,function(t){return e._stripDirectionalityCharacters(e._format(n,new Date(2017,0,t+1)))})}return C},n.prototype.getDayOfWeekNames=function(t,e){var n=this;if(void 0===e&&(e=this.locale),v){var o=new Intl.DateTimeFormat(e,{weekday:t,timeZone:"utc"});return w(7,function(t){return n._stripDirectionalityCharacters(n._format(o,new Date(2017,0,t+1)))})}return D[t]},n.prototype.getYearName=function(t,e){if(void 0===e&&(e=this.locale),v){var n=new Intl.DateTimeFormat(e,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(n,t))}return String(this.getYear(t))},n.prototype.getFirstDayOfWeek=function(){return 0},n.prototype.getNumDaysInMonth=function(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))},n.prototype.clone=function(t){return this.createDate(this.getYear(t),this.getMonth(t),this.getDate(t))},n.prototype.createDate=function(t,e,n){if(e<0||e>11)throw Error('Invalid month index "'+e+'". Month index has to be between 0 and 11.');if(n<1)throw Error('Invalid date "'+n+'". Date has to be greater than 0.');var o=this._createDateWithOverflow(t,e,n);if(o.getMonth()!==e)throw Error('Invalid date "'+n+'" for month with index "'+e+'".');return o},n.prototype.today=function(){return new Date},n.prototype.parse=function(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null},n.prototype.format=function(t,e,n){if(void 0===n&&(n=this.locale),!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(v){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=_({},e,{timeZone:"utc"});var o=new Intl.DateTimeFormat(n,e);return this._stripDirectionalityCharacters(this._format(o,t))}return this._stripDirectionalityCharacters(t.toDateString())},n.prototype.addCalendarYears=function(t,e){return this.addCalendarMonths(t,12*e)},n.prototype.addCalendarMonths=function(t,e){var n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!==((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n},n.prototype.addCalendarDays=function(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)},n.prototype.toIso8601=function(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")},n.prototype.deserialize=function(e){if("string"==typeof e){if(!e)return null;if(O.test(e)){var n=new Date(e);if(this.isValid(n))return n}}return t.prototype.deserialize.call(this,e)},n.prototype.isDateInstance=function(t){return t instanceof Date},n.prototype.isValid=function(t){return!isNaN(t.getTime())},n.prototype.invalid=function(){return new Date(NaN)},n.prototype._createDateWithOverflow=function(t,e,n){var o=new Date(t,e,n);return t>=0&&t<100&&o.setFullYear(this.getYear(o)-1900),o},n.prototype._2digit=function(t){return("00"+t).slice(-2)},n.prototype._stripDirectionalityCharacters=function(t){return t.replace(/[\u200e\u200f]/g,"")},n.prototype._format=function(t,e){var n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[h]}]},{type:o.Platform}]},n}(g),E={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{month:"short"}}},I=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.PlatformModule],providers:[{provide:g,useClass:P},f]}]}],t.ctorParameters=function(){return[]},t}(),M=E,j=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[I],providers:[{provide:y,useValue:M}]}]}],t.ctorParameters=function(){return[]},t}(),N=function(){return function(t,e){void 0===e&&(e=!1),this.source=t,this.isUserInput=e}}(),T=new e.InjectionToken("nt-option-parent-component"),k=function(){function t(t,o,r){this._element=t,this._changeDetectorRef=o,this._parent=r,this._selected=!1,this._disabled=!1,this._mostRecentViewValue="",this.stateChanges=new n.Subject,this.selectionChange=new e.EventEmitter}return Object.defineProperty(t.prototype,"label",{get:function(){return(this._element.nativeElement.textContent||"").trim()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiple",{get:function(){return this._parent&&this._parent.multiple},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=r.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewChecked=function(){if(this._selected){var t=this.label;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this.stateChanges.next())}},t.prototype.focus=function(){var t=this._element.nativeElement;"function"==typeof t.focus&&t.focus()},t.prototype.select=function(){this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent()},t.prototype.deselect=function(){this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent()},t.prototype.selectViaInteraction=function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._emitSelectionChangeEvent(!0))},t.prototype.getOffsetY=function(){return this._element.nativeElement.offsetTop},t.prototype._emitSelectionChangeEvent=function(t){void 0===t&&(t=!1),this.selectionChange.emit(new N(this,t))},t.decorators=[{type:e.Component,args:[{selector:"nt-option",template:"<ng-content></ng-content>",encapsulation:e.ViewEncapsulation.None,host:{class:"nt-option","[class.selected]":"selected","[class.disabled]":"disabled","(click)":"selectViaInteraction()"}}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[T]}]}]},t.propDecorators={value:[{type:e.Input}],disabled:[{type:e.Input}],selectionChange:[{type:e.Output}]},t}(),x=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule],exports:[k],declarations:[k]}]}],t.ctorParameters=function(){return[]},t}(),Y={Vertical:"vertical",Horizontal:"horizontal"},S={bottom:[V("center","bottom","center","top"),V("center","top","center","bottom")],bottomLeft:[V("start","bottom","start","top"),V("start","top","start","bottom")],bottomRight:[V("end","bottom","end","top"),V("end","top","end","bottom")],top:[V("center","top","center","bottom"),V("center","bottom","center","top")],topLeft:[V("start","top","start","bottom"),V("start","bottom","start","top")],topRight:[V("end","top","end","bottom"),V("end","bottom","end","top")],left:[V("start","center","end","center"),V("end","center","start","center")],leftTop:[V("start","top","end","top"),V("end","top","start","top")],leftBottom:[V("start","bottom","end","bottom"),V("end","bottom","start","bottom")],right:[V("end","center","start","center"),V("start","center","end","center")],rightTop:[V("end","top","start","top"),V("start","top","end","top")],rightBottom:[V("end","bottom","start","bottom"),V("start","bottom","end","bottom")]};function V(t,e,n,o){return{originX:t,originY:e,overlayX:n,overlayY:o}}function R(t){return t.originX+"-"+t.originY+"-"+t.overlayX+"-"+t.overlayY}var F=function(){function t(t,n){var o=this;this._renderer=t,this._elementRef=n,this._isOpen=!1,this._isMouseIn=!1,this._position="bottomLeft",this._positionPairs=S[this._position],this._paddingClass=R(this._positionPairs[0]),this._arrow=!1,this._noSpacing=!1,this._trigger="",this._overlayClass="",this._fixed=!1,this._closeEvent=new e.EventEmitter,this._positionChange=new e.EventEmitter,this.opened=new e.EventEmitter,this.closed=new e.EventEmitter,this.positionChange=new e.EventEmitter,this._closeEvent.debounceTime(100).filter(function(t){return!1===o._isMouseIn}).subscribe(function(t){return o.hide()}),this._positionChange.filter(function(t){return t!==o._paddingClass}).subscribe(function(t){var e=o.cdkConnectedOverlay.overlayRef.overlayElement.querySelector(".nt-overlay-container");o._paddingClass&&o._renderer.removeClass(e,o._paddingClass),o._paddingClass=t,o._renderer.addClass(e,o._paddingClass)})}return Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMouseIn",{get:function(){return this._isMouseIn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},set:function(t){this._origin=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{set:function(t){this._position=t,this._setPosition()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"positions",{get:function(){return this._positionPairs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingClass",{get:function(){return this._paddingClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixed",{get:function(){return this._fixed},set:function(t){this._fixed=r.coerceBooleanProperty(t),this._setPosition()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrow",{get:function(){return this._arrow},set:function(t){this._arrow=r.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"noSpacing",{get:function(){return this._noSpacing},set:function(t){this._noSpacing=r.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trigger",{get:function(){return this._trigger},set:function(t){this._trigger=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overlayClass",{get:function(){return this._overlayClass},set:function(t){this._overlayClass=t},enumerable:!0,configurable:!0}),t.prototype._setPosition=function(){this._positionPairs=this.fixed?S[this._position].slice(0,1):S[this._position],this._paddingClass=R(this._positionPairs[0])},t.prototype.getPosition=function(t){return this.fixed?S[t].slice(0,1):S[t]},t.prototype.show=function(){this._isOpen=!0,this.opened.next()},t.prototype.hide=function(){this._isOpen=!1,this.closed.next()},t.prototype.click=function(){"click"===this.trigger&&(this.isOpen?this.hide():this.show())},t.prototype.onOverlayPositionChange=function(t){this._positionChange.next(R(t.connectionPair))},t.prototype.onMouseEnter=function(){"hover"===this.trigger&&(this._isMouseIn=!0,this.show())},t.prototype.onMouseLeave=function(){"hover"===this.trigger&&this._closeEvent.next(this._isMouseIn=!1)},t.decorators=[{type:e.Component,args:[{selector:"nt-overlay, [nt-overlay]",template:'<ng-template cdk-connected-overlay [cdkConnectedOverlayOpen]="isOpen" [cdkConnectedOverlayHasBackdrop]="trigger === \'click\'" [cdkConnectedOverlayPositions]="positions" [cdkConnectedOverlayOrigin]="origin" (positionChange)="onOverlayPositionChange($event)" (backdropClick)="hide()"> <div class="nt-overlay-container {{paddingClass}} {{overlayClass}}" (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()" [class.no-spacing]="noSpacing" [@fade]> <div class="nt-overlay-shadow"></div> <div class="nt-overlay-arrow" *ngIf="arrow"></div> <div class="nt-overlay-pane"> <ng-content></ng-content> </div> </div> </ng-template> ',animations:[l.trigger("fade",[l.transition("void => *",d.fadeIn(.15)),l.transition("* => void",d.fadeOut(.15))])],encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:e.Renderer2},{type:e.ElementRef}]},t.propDecorators={origin:[{type:e.Input}],position:[{type:e.Input}],fixed:[{type:e.Input}],arrow:[{type:e.Input}],noSpacing:[{type:e.Input}],trigger:[{type:e.Input}],overlayClass:[{type:e.Input}],cdkConnectedOverlay:[{type:e.ViewChild,args:[a.CdkConnectedOverlay]}],opened:[{type:e.Output}],closed:[{type:e.Output}],positionChange:[{type:e.Output}]},t}(),A=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,a.OverlayModule],exports:[F],declarations:[F]}]}],t.ctorParameters=function(){return[]},t}();t.NT_DATE_LOCALE=h,t.NT_DATE_LOCALE_PROVIDER=f,t.DateAdapter=g,t.NT_DATE_FORMATS=y,t.NativeDateAdapter=P,t.NT_NATIVE_DATE_FORMATS=E,t.NativeDateModule=I,t.NtNativeDateModule=j,t.NtOptionModule=x,t.NtOptionSelectionChange=N,t.NT_OPTION_PARENT_COMPONENT=T,t.NtOptionComponent=k,t.NtOverlayModule=A,t.NtOverlayComponent=F,t.NtOverlayOrientation=Y,t.OVERLAY_POSITIONS=S,t.getConnectionPositionPair=V,t.getPositionClassName=R,t.getPositionOrientation=function(t){return Object.keys(S).indexOf(t)>5?Y.Horizontal:Y.Vertical},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=core.umd.min.js.map
