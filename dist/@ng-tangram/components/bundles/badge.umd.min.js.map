{"version":3,"file":"badge.umd.min.js","sources":["../../../../out-tsc/@ng-tangram/components/badge/badge.component.ts","../../../../out-tsc/@ng-tangram/components/badge/badge.module.ts"],"sourcesContent":["import {\n  AfterViewInit, Component, ElementRef, Input, Renderer2, ViewEncapsulation, OnDestroy, OnChanges\n} from '@angular/core';\n\nexport declare type NtBadgeColor = '' | 'primary' | 'secondary' | 'success' | 'warning' | 'alert';\n\nexport declare type NtBadgeType = '' | 'static' | 'float' | 'notify';\n\n@Component({\n  selector: 'nt-badge, [nt-badge]',\n  template: `<ng-content></ng-content>`,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': '[\"badge\", color, class].join(\" \")',\n    '[class.badge-float]': 'type === \"float\"',\n    '[class.badge-notify]': 'type === \"notify\"'\n  }\n})\nexport class NtBadgeComponent implements AfterViewInit, OnDestroy {\n\n  private _type: NtBadgeType = 'static';\n\n  @Input() color: NtBadgeColor = '';\n\n  @Input() class: string = '';\n\n  @Input()\n  set type(value: NtBadgeType) {\n    if (value === 'float' || value === 'notify') {\n      this._resetPosition();\n    } else {\n      this._clearPosition();\n    }\n    this._type = value;\n  }\n  get type() { return this._type; }\n\n  private _originalPosition;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _renderer: Renderer2) { }\n\n  ngAfterViewInit() {\n    this._resetPosition();\n  }\n\n  ngOnDestroy() {\n    this._clearPosition();\n  }\n\n  // 重置容器的 position 属性\n  private _resetPosition() {\n    const style = window.getComputedStyle(this._elementRef.nativeElement.parentElement);\n    if (style.position !== 'absolute' || style.position !== 'absolute') {\n      this._originalPosition = style.position;\n      this._renderer.setStyle(this._elementRef.nativeElement.parentElement, 'position', 'relative');\n    }\n  }\n\n  // 清理 position 属性\n  private _clearPosition() {\n    if (this._originalPosition) {\n      this._renderer.removeStyle(this._elementRef.nativeElement.parentElement, 'position');\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NtBadgeComponent } from './badge.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NtBadgeComponent],\n  exports: [NtBadgeComponent]\n})\nexport class NtBadgeModule { }\n"],"names":["_elementRef","_renderer","this","NtBadgeComponent","_type","value","_resetPosition","_clearPosition","style","window","getComputedStyle","nativeElement","parentElement","position","_originalPosition","setStyle","removeStyle","Component","selector","template","encapsulation","ViewEncapsulation","None","host","[class]","[class.badge-float]","[class.badge-notify]","ElementRef","Renderer2","Input","NgModule","imports","CommonModule","declarations","exports"],"mappings":"2XAuCE,WACUA,EACAC,GADAC,iBAAAF,EACAE,eAAAD,aArBmB,oBAEE,cAEN,gCAGrBE,wBAQJ,WAAa,OAAOD,KAAKE,oBARhBC,GACO,UAAVA,GAA+B,WAAVA,EACvBH,KAAKI,iBAELJ,KAAKK,iBAEPL,KAAKE,MAAQC,mCAUfF,4BAAA,WACED,KAAKI,kBAGPH,wBAAA,WACED,KAAKK,kBAICJ,sCACN,IAAMK,EAAQC,OAAOC,iBAAiBR,KAAKF,YAAYW,cAAcC,eAC9C,aAAnBJ,EAAMK,UAA8C,aAAnBL,EAAMK,WACzCX,KAAKY,kBAAoBN,EAAMK,SAC/BX,KAAKD,UAAUc,SAASb,KAAKF,YAAYW,cAAcC,cAAe,WAAY,cAK9ET,sCACFD,KAAKY,mBACPZ,KAAKD,UAAUe,YAAYd,KAAKF,YAAYW,cAAcC,cAAe,iCAvD9EK,mBACCC,SAAU,uBACVC,SAAU,4BACVC,cAAeC,oBAAkBC,KACjCC,MACEC,UAAW,oCACXC,sBAAuB,mBACvBC,uBAAwB,kEAdAC,oBAAmBC,8CAqB5CC,uBAEAA,sBAEAA,sECtBFC,kBACCC,SAAUC,gBACVC,cAAe9B,GACf+B,SAAU/B"}