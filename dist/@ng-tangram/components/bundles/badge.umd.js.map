{"version":3,"file":"badge.umd.js","sources":["../../../../out-tsc/@ng-tangram/components/badge/badge.component.ts","../../../../out-tsc/@ng-tangram/components/badge/badge.module.ts"],"sourcesContent":["import {\n  AfterViewInit, Component, ElementRef, Input, Renderer2, ViewEncapsulation, OnDestroy, OnChanges\n} from '@angular/core';\n\nexport declare type NtBadgeColor = '' | 'primary' | 'secondary' | 'success' | 'warning' | 'alert';\n\nexport declare type NtBadgeType = '' | 'static' | 'float' | 'notify';\n\n@Component({\n  selector: 'nt-badge, [nt-badge]',\n  template: `<ng-content></ng-content>`,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': '[\"badge\", color, class].join(\" \")',\n    '[class.badge-float]': 'type === \"float\"',\n    '[class.badge-notify]': 'type === \"notify\"'\n  }\n})\nexport class NtBadgeComponent implements AfterViewInit, OnDestroy {\n\n  private _type: NtBadgeType = 'static';\n\n  @Input() color: NtBadgeColor = '';\n\n  @Input() class: string = '';\n\n  @Input()\n  set type(value: NtBadgeType) {\n    if (value === 'float' || value === 'notify') {\n      this._resetPosition();\n    } else {\n      this._clearPosition();\n    }\n    this._type = value;\n  }\n  get type() { return this._type; }\n\n  private _originalPosition;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _renderer: Renderer2) { }\n\n  ngAfterViewInit() {\n    this._resetPosition();\n  }\n\n  ngOnDestroy() {\n    this._clearPosition();\n  }\n\n  // 重置容器的 position 属性\n  private _resetPosition() {\n    const style = window.getComputedStyle(this._elementRef.nativeElement.parentElement);\n    if (style.position !== 'absolute' || style.position !== 'absolute') {\n      this._originalPosition = style.position;\n      this._renderer.setStyle(this._elementRef.nativeElement.parentElement, 'position', 'relative');\n    }\n  }\n\n  // 清理 position 属性\n  private _clearPosition() {\n    if (this._originalPosition) {\n      this._renderer.removeStyle(this._elementRef.nativeElement.parentElement, 'position');\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NtBadgeComponent } from './badge.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NtBadgeComponent],\n  exports: [NtBadgeComponent]\n})\nexport class NtBadgeModule { }\n"],"names":["Component","ViewEncapsulation","ElementRef","Renderer2","Input","NgModule","CommonModule"],"mappings":";;;;;;;;;;AAAA;QAuCE,0BACU,aACA;YADA,gBAAW,GAAX,WAAW;YACX,cAAS,GAAT,SAAS;yBArBU,QAAQ;yBAEN,EAAE;yBAER,EAAE;SAiBQ;8BAd/B,kCAAI;;;;YAQR,cAAa,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE;;;;;sBARxB,KAAkB;gBACzB,IAAI,KAAK,KAAK,OAAO,IAAI,KAAK,KAAK,QAAQ,EAAE;oBAC3C,IAAI,CAAC,cAAc,EAAE,CAAC;iBACvB;qBAAM;oBACL,IAAI,CAAC,cAAc,EAAE,CAAC;iBACvB;gBACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;;;;;QAUrB,0CAAe;;;QAAf;YACE,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;;;;QAED,sCAAW;;;QAAX;YACE,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;;;;QAGO,yCAAc;;;;YACpB,qBAAM,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;YACpF,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU,EAAE;gBAClE,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC;gBACxC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;aAC/F;;;;;QAIK,yCAAc;;;;YACpB,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC1B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;aACtF;;;oBAxDJA,cAAS,SAAC;wBACT,QAAQ,EAAE,sBAAsB;wBAChC,QAAQ,EAAE,2BAA2B;wBACrC,aAAa,EAAEC,sBAAiB,CAAC,IAAI;wBACrC,IAAI,EAAE;4BACJ,SAAS,EAAE,mCAAmC;4BAC9C,qBAAqB,EAAE,kBAAkB;4BACzC,sBAAsB,EAAE,mBAAmB;yBAC5C;qBACF;;;;oBAhB2BC,eAAU;oBAASC,cAAS;;;8BAqBrDC,UAAK;8BAELA,UAAK;6BAELA,UAAK;;+BA1BR;;;;;;;ACAA;;;;oBAICC,aAAQ,SAAC;wBACR,OAAO,EAAE,CAACC,mBAAY,CAAC;wBACvB,YAAY,EAAE,CAAC,gBAAgB,CAAC;wBAChC,OAAO,EAAE,CAAC,gBAAgB,CAAC;qBAC5B;;;;4BARD;;;;;;;;;;;;;;;;;;;;;;;;"}