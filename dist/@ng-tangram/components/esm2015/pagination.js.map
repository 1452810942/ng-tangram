{"version":3,"file":"pagination.js","sources":["../../../../out-tsc/@ng-tangram/components/pagination/pagination-config.ts","../../../../out-tsc/@ng-tangram/components/pagination/pagination.component.ts","../../../../out-tsc/@ng-tangram/components/pagination/pagination.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport class NtPaginationConfig {\n  previousLabel: string = 'Previous';\n  nextLabel: string = 'Next';\n  size: number = 3;\n  pageSize: number = 10;\n}\n\nexport const NT_PAGINATION_CONFIG = new InjectionToken<NtPaginationConfig>('nt-pagination-config');\n","import {\n  Component, EventEmitter, Inject, Input, Optional, Output, ViewEncapsulation\n} from '@angular/core';\nimport { NT_PAGINATION_CONFIG, NtPaginationConfig } from './pagination-config';\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\n\nexport const PAGINATION_ELLIPSIS = '...';\n\n@Component({\n  selector: 'nt-pagination, [nt-pagination]',\n  template: \"<ul class=\\\"pagination\\\"> <li class=\\\"pagination-previous disabled\\\" *ngIf=\\\"pageIndex <= 1\\\">{{ previousLabel }}</li> <li class=\\\"pagination-previous\\\" *ngIf=\\\"pageIndex > 1\\\"><a (click)=\\\"_pageChange(pageIndex - 1)\\\">{{ previousLabel }}</a></li> <ng-container *ngFor=\\\"let page of pages\\\"> <li *ngIf=\\\"page === pageIndex\\\" [class.current]=\\\"page === pageIndex\\\">{{ page }}</li> <li *ngIf=\\\"page !== pageIndex && page !== '...'\\\"><a (click)=\\\"_pageChange(page)\\\">{{ page }}</a></li> <li class=\\\"ellipsis\\\" *ngIf=\\\"page === '...'\\\"></li> </ng-container> <li class=\\\"pagination-next disabled\\\" *ngIf=\\\"pageIndex >= totalPage\\\">{{ nextLabel }}</li> <li class=\\\"pagination-next\\\" *ngIf=\\\"pageIndex < totalPage\\\"><a (click)=\\\"_pageChange(pageIndex + 1)\\\">{{ nextLabel }}</a></li> </ul> \",\n  encapsulation: ViewEncapsulation.None\n})\nexport class NtPaginationComponent {\n\n  private _config = new NtPaginationConfig();\n\n  private _total = 0;\n  private _totalPage = 1;\n  private _pageIndex = 1;\n  private _pages = [1];\n\n  get config() { return this._config; }\n  get totalPage() { return this._totalPage; }\n  get pages() { return this._pages; }\n\n  @Input()\n  set pageSize(value: number) { this._config.pageSize = coerceNumberProperty(value); }\n  get pageSize() { return this.config.pageSize; }\n\n  @Input()\n  set previousLabel(value: string) { this._config.previousLabel = value; }\n  get previousLabel() { return this.config.previousLabel; }\n\n  @Input()\n  set nextLabel(value: string) { this._config.nextLabel = value; }\n  get nextLabel() { return this.config.nextLabel; }\n\n  @Input()\n  set total(value: number) { this._total = coerceNumberProperty(value); this._build(); }\n  get total() { return this._total; }\n\n  @Input()\n  set pageIndex(value: number) { this._pageIndex = coerceNumberProperty(value, 1); this._build(); }\n  get pageIndex() { return this._pageIndex; }\n\n  @Output() pageChange = new EventEmitter<number>();\n\n  constructor(@Optional() @Inject(NT_PAGINATION_CONFIG) defaultConfig?: NtPaginationConfig) {\n    this._config = { ...this._config, ...defaultConfig || {} };\n  }\n\n  _pageChange(index: number) {\n    this._pageIndex = coerceNumberProperty(index, 1);\n    this.pageChange.emit(index);\n  }\n\n  private _build() {\n\n    this._totalPage = Math.ceil(this.total / this.config.pageSize);\n\n    let pages: any = [1];\n    let start = this.pageIndex - this.config.size,\n          end = this.pageIndex + this.config.size;\n\n    start = start < 2 ? 2 : start;\n    end = end > this.totalPage - 1 ? this.totalPage - 1 : end;\n\n    start - 2 >= 1 && (pages.push(PAGINATION_ELLIPSIS));\n    pages = pages.concat(Array(end - start + 1).fill(start).map((value, index) => value + index));\n\n    end + 2 <= this.totalPage && (pages.push(PAGINATION_ELLIPSIS));\n\n    this.totalPage > 1 && pages.push(this.totalPage);\n    this._pages = pages;\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { NT_PAGINATION_CONFIG, NtPaginationConfig } from './pagination-config';\nimport { NtPaginationComponent } from './pagination.component';\n\n@NgModule({\n  imports: [CommonModule],\n  exports: [NtPaginationComponent],\n  declarations: [NtPaginationComponent]\n})\nexport class NtPaginationModule {\n  public static forRoot(config?: NtPaginationConfig): ModuleWithProviders {\n    return {\n      ngModule: NtPaginationModule,\n      providers: [\n        { provide: NT_PAGINATION_CONFIG, useValue: config || new NtPaginationConfig() }\n      ]\n    };\n  }\n}\n"],"names":[],"mappings":"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"}