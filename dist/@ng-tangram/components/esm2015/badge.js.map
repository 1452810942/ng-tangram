{"version":3,"file":"badge.js","sources":["../../../../out-tsc/@ng-tangram/components/badge/badge.component.ts","../../../../out-tsc/@ng-tangram/components/badge/badge.module.ts"],"sourcesContent":["import {\n  AfterViewInit, Component, ElementRef, Input, Renderer2, ViewEncapsulation, OnDestroy, OnChanges\n} from '@angular/core';\n\nexport declare type NtBadgeColor = '' | 'primary' | 'secondary' | 'success' | 'warning' | 'alert';\n\nexport declare type NtBadgeType = '' | 'static' | 'float' | 'notify';\n\n@Component({\n  selector: 'nt-badge, [nt-badge]',\n  template: `<ng-content></ng-content>`,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class]': '[\"badge\", color, class].join(\" \")',\n    '[class.badge-float]': 'type === \"float\"',\n    '[class.badge-notify]': 'type === \"notify\"'\n  }\n})\nexport class NtBadgeComponent implements AfterViewInit, OnDestroy {\n\n  private _type: NtBadgeType = 'static';\n\n  @Input() color: NtBadgeColor = '';\n\n  @Input() class: string = '';\n\n  @Input()\n  set type(value: NtBadgeType) {\n    if (value === 'float' || value === 'notify') {\n      this._resetPosition();\n    } else {\n      this._clearPosition();\n    }\n    this._type = value;\n  }\n  get type() { return this._type; }\n\n  private _originalPosition;\n\n  constructor(\n    private _elementRef: ElementRef,\n    private _renderer: Renderer2) { }\n\n  ngAfterViewInit() {\n    this._resetPosition();\n  }\n\n  ngOnDestroy() {\n    this._clearPosition();\n  }\n\n  // 重置容器的 position 属性\n  private _resetPosition() {\n    const style = window.getComputedStyle(this._elementRef.nativeElement.parentElement);\n    if (style.position !== 'absolute' || style.position !== 'absolute') {\n      this._originalPosition = style.position;\n      this._renderer.setStyle(this._elementRef.nativeElement.parentElement, 'position', 'relative');\n    }\n  }\n\n  // 清理 position 属性\n  private _clearPosition() {\n    if (this._originalPosition) {\n      this._renderer.removeStyle(this._elementRef.nativeElement.parentElement, 'position');\n    }\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NtBadgeComponent } from './badge.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NtBadgeComponent],\n  exports: [NtBadgeComponent]\n})\nexport class NtBadgeModule { }\n"],"names":[],"mappings":";;;;;;;AAAA;;;;;IAuCE,YACU,aACA;QADA,gBAAW,GAAX,WAAW;QACX,cAAS,GAAT,SAAS;qBArBU,QAAQ;qBAEN,EAAE;qBAER,EAAE;KAiBQ;;;;;QAd/B,IAAI,CAAC,KAAkB;QACzB,IAAI,KAAK,KAAK,OAAO,IAAI,KAAK,KAAK,QAAQ,EAAE;YAC3C,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;aAAM;YACL,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB;QACD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;;;;IAErB,IAAI,IAAI,KAAK,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE;;;;IAQjC,eAAe;QACb,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAED,WAAW;QACT,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;;;;IAGO,cAAc;QACpB,uBAAM,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;QACpF,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU,IAAI,KAAK,CAAC,QAAQ,KAAK,UAAU,EAAE;YAClE,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,QAAQ,CAAC;YACxC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;SAC/F;;;;;IAIK,cAAc;QACpB,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;SACtF;;;;YAxDJ,SAAS,SAAC;gBACT,QAAQ,EAAE,sBAAsB;gBAChC,QAAQ,EAAE,2BAA2B;gBACrC,aAAa,EAAE,iBAAiB,CAAC,IAAI;gBACrC,IAAI,EAAE;oBACJ,SAAS,EAAE,mCAAmC;oBAC9C,qBAAqB,EAAE,kBAAkB;oBACzC,sBAAsB,EAAE,mBAAmB;iBAC5C;aACF;;;;YAhB2B,UAAU;YAAS,SAAS;;;sBAqBrD,KAAK;sBAEL,KAAK;qBAEL,KAAK;;;;;;;AC1BR;;;YAIC,QAAQ,SAAC;gBACR,OAAO,EAAE,CAAC,YAAY,CAAC;gBACvB,YAAY,EAAE,CAAC,gBAAgB,CAAC;gBAChC,OAAO,EAAE,CAAC,gBAAgB,CAAC;aAC5B;;;;;;;;;;;;;;;;;"}